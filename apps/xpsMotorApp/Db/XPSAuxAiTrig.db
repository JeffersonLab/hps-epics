
grecord(busy,"$(P):$(R):busy") 
{
        field(DESC,"Busy for $(P)$(R)")
        field(SCAN,"Passive") 
        field(VAL ,"0")
        field(DTYP,"Soft Channel")
	field(FLNK,"$(P)$(R):dummy.PROC PP NMS")
}

grecord(bi,"$(P):$(R):trig") 
{
        field(DESC,"Trigger for $(P)$(R)")
        field(SCAN,"Passive") 
        field(PINI,"YES")
        field(VAL ,"0")
	field(INP ,"$(P):$(R):busy CPP NMS")
        field(DTYP,"Soft Channel")
	field(FLNK,"$(P)$(R):trig_fan")
	field(SDIS,"$(P):$(R):busy NPP NMS")
	field(DISV,"0")
}

grecord(dfanout, $(P)$(R):trig_fan)
{
	field(DESC,"Fanout of triggers for $(P)$(R)" )
        field(SCAN,"Passive") 
	field(OUTA,"$(P)XPSAuxAi0:clock PP NMS")
	field(OUTB,"$(P)XPSAuxAi1:clock PP NMS")
	field(OUTC,"$(P)XPSAuxAi2:clock PP NMS")
	field(OUTD,"$(P)XPSAuxAi3:clock PP NMS")
	field(DOL, "$(P)$(R):trig")
	field(SELM, "All")
	field(OMSL, "closed_loop")
}

grecord(calcout,"$(P)$(R):unbusy")
{
        field(DESC,"Reset busy of $(P)$(R)" )
        field(SCAN,"Passive") 
        field(CALC,"0")
        field(INPA,"$(P)XPSAuxAi0:avg CPP NMS")
        field(INPB,"$(P)XPSAuxAi1:avg CPP NMS")
        field(INPC,"$(P)XPSAuxAi2:avg CPP NMS")
        field(INPD,"$(P)XPSAuxAi3:avg CPP NMS")
        field(OOPT,"When Zero")
        field(DOPT,"Use CALC")	
        field(OUT, "$(P):$(R):busy PP NMS")
	field(PREC,"6")
	field(SDIS,"$(P):$(R):busy NPP NMS")
	field(DISV,"0")
}

grecord(bi,"$(P):$(R):dummy") 
{
        field(DESC,"Dummy for $(P)$(R)")
        field(SCAN,"Passive") 
}

